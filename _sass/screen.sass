/*
  Welcome to Compass.
  In this file you should write your main styles. (or centralize your imports)
  Import this file using the following HTML or equivalent:
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />

@import compass/reset
@import compass/css3
@import compass/utilities
@import compass/css3/user-interface

////////////////////////////////////

@import font-awesome

/////////////// vars ///////////////

$header_color: #000000
$header_blue: #C0DBEB
$accent_blue: #688AAD
$background_gray: #F7F6F4
$background_blue: rgba($header_blue, .3)
$green: #8DC63F
$text_color: #6B6760
$hint_color: $text_color
$title_color: #333
$padding: 30px
$border_color: $background_gray - 30

$note_color: yellow

// footer colors
// for_beginners is accent_blue
$for_intermediates: #8aad68
$for_developers: #f0818b

$post_width: 660px
$total_width: 960px
$fixed_column_width: 280px

$prefixes: ("-webkit-","-moz-", "-o-", "")
$directions: (left, right)

//////////// mixins ///////////////

=letterpress($opacity, $base-color: white)
  +text-shadow( 0 -1px 1px rgba( $base-color, $opacity ))

=box-emboss($opacity, $opacity2)
  +box-shadow( rgba(white, $opacity) 0 1px 0, inset rgba( black, $opacity2) 0 1px 0 )

=link-hover($link_color: $accent_blue)
  &:hover
    color: $link_color - 30

=hide-text
  font: 0px/0 a
  text-shadow: none
  color: transparent

=outline-border
  border: 2px solid $border_color

=footer-styling($color)
  background-color: rgba($color, .2)

=anti-alias
  -webkit-font-smoothing: antialiased

=callout-box($background-color, $h3-color: $accent_blue)
  padding: $padding
  background-color: rgba($background-color, .3)
  margin: $padding 0
  clear: both
  h4
    color: $h3-color
    font-size: 24px
    font-weight: bold
    margin: 0
    padding: 0
    vertical-align: top
    +inline-block
  p
    font-size: 14px
    margin-left: $padding

=inline-block
  display: inline-block
  /* For IE 7 */
  zoom: 1
  *display: inline

=transition
  +transition-property
  +transition-duration(.5s)

=floated-images
  @each $direction in $directions
    .float_#{$direction}
      float: $direction
      margin: $padding/2 $padding
      margin-#{$direction}: -($padding) - 2

//////// placeholdahs ///////

%header_fonts
  color: $title_color
  font:
    family: Times, serif
    style: italic
  +anti-alias

//////// main styles /////////

body
  font-family: "HelveticaNeue", Helvetica, Arial, sans-serif
  background-color: white
  color: $text_color
  +anti-alias
  a
    color: $accent_blue
    text-decoration: none

h1, h2, h3, h4, .seo_faq
  @extend %header_fonts

h1
  font-size: 45px
  margin-left: 0
p
  font-size: 16px
  line-height: 115%
strong
  font-weight: bold
  color: $text_color - 20
em
  font-style: italic

pre
  overflow-x: scroll
  padding: $padding/2 $padding
  margin: $padding/2 0

////////// header ///////////



//////// content ////////////

.home
  text-align: center
  height: 200px
  padding: $padding/2 0

#home_logo
  margin: 0 auto
  width: 673px
  height: 187px
  background: transparent url(http://embed.wistia.com/deliveries/14d8f72f61b4866ff365396c58c2ad1be697e79f.png) no-repeat

%container
  width: 960px
  margin: 0 auto

#container
  @extend %container

#post_container
  position: relative
  left: $fixed_column_width + 20
  +inline-block

/////// doc home only ///////

#container_home
  @extend #container
  width: 720px

#articles_list
  width: $post_width
  margin: $padding auto
  background-color: white
  h3
    font-size: 22px
    margin-bottom: 10px
    margin-left: 0
    color: $text_color
    border-bottom: 1px solid #DDD
    padding-bottom: 5px

.quickstart
  position: relative
  margin-bottom: $padding
  text-align: center
  li
    position: relative
    margin-right: 12px
    border: 1px solid #DDD
    +inline-block
    &:last-child
      margin-right: 0
    a
      width: 150px
      height: 150px
      display: block
      text-decoration: none
      text-align: center
      &:hover
        h3
          background-color: #DDD - 20
        img
          opacity: 1
      img
        opacity: 0.7
      h3
        padding: 5px 0
        background-color: #DDD
        position: relative
        left: -1px
        top: -27px
        width: 152px
        color: $text_color
        font-size: 14px !important
        font-family: "HelveticaNeue", Helvetica, Arial, sans-serif
        font-style: normal

.category_list
  margin-bottom: $padding
  h3 a
    font-size: 22px
    margin-bottom: 10px
    color: $text_color
    padding-bottom: 5px

.developers
  padding: $padding/3
  margin-left: -10.5px
  margin-top: -$padding/2
  background-color: $background_blue

.post_list li
  margin-bottom: 10px
  position: relative
  a
    font-size: 14px
    +link-hover
  span
    font-size: 14px

.hint
  margin-left: $padding
  color: $hint_color
  visibility: hidden
  font-style: italic
  position: absolute
  right: 0
  max-width: 350px
  +inline-block


//////// post header /////////////

#doc_nav
  padding-top: 20px
  background: white
  width: $post_width
  #doc_nav_container
    position: relative
    ul
      padding: 0
      margin: 0 auto
      width: $post_width
      position: relative
      height: 45px
      li
        position: absolute
        color: $text_color
        +inline-block
        a 
          color: $accent_blue
          text-decoration: underline
      li#breadcrumbs
        +ellipsis
        height: 18px
        left: 0
        top: 15px
        width: 340px
        color: $accent_blue
        +letterpress(.3, white)
        +anti-alias
        .breadcrumb_post_title
          color: $accent_blue
      li#nav_search_box
        right: 20px
        top: 9px

//////// post //////////

#post
  width: $post_width
  background-color: white
  clear: both
  padding-bottom: $padding
  +inline-block

.post_title
  margin: $padding 0

/////// content styles ///////

.post_content

  hr
    clear: both
    height: 1px
    background-color: #bbb
    border: 0
    margin-top: $padding
  h1, h2, h3, h4
    margin-left: $padding

  h2, h3
    line-height: 120%
    margin: $padding
    clear: both
    font-size: 32px
    color: $title_color
    padding: $padding/3 0
    margin-left: $padding
    &:hover
      .subtopic_anchor
        color: $accent_blue
  h4
    font-weight: bold
    font-size: 20px
    margin-top: 40px

  p, pre, ol, ul
    margin: $padding/2 0
  p
    margin-left: $padding
    margin-right: $padding
    line-height: 150%
    position: relative
    pre
      margin: $padding/2 0 $padding/2 $padding
  ul, ol
    border-left: 10px solid $header_blue
    padding-left: $padding - 10
    line-height: 150%
    li p
      margin: $padding/2 0
  ul
    list-style-type: none
    position: relative
  ol
    padding-left: $padding + 10
    list-style: decimal
    li
      margin-top: $padding/2
  a
    +link-hover

  // those little anchors before each h2 and h3
  .subtopic_anchor
    color: lighten($accent_blue, 40%)
    position: absolute
    left: 10px
    +transition
    &:hover
      color: $accent_blue


///// Span Styles //////

.action_menu
  background-color: #BFDE67
  color: white
  padding: 2px 4px

.faux_button
  background-color: #E9E7E4
  border: 3px solid #D5D4D2
  color: #666
  font-family: Arial, Sans-Serif
  padding: 2px 4px
  margin-left: 3px
  font-size: 13px
  text-transform: uppercase

code
  background-color: $background_gray
  color: $text_color
  font-size: 14px
  margin: $padding/2 $padding
  padding: $padding/5
  font-family: monospace
  margin: 0
  padding: 2px

.edit_tag
  background: transparent url(http://embed.wistia.com/deliveries/c4728e279c91c74605f00f6c2629a646ed3905af.png) no-repeat
  padding-left: 33px
  height: 10px
  +inline-block

.help_bubble
  background: transparent url(http://fast.wistia.com/images/zebra/elements/questionhelp_dark.png) no-repeat
  padding-left: 28px
  height: 28px
  position: relative
  top: 8px
  +inline-block

.seo_faq
  margin-left: 0
  font-size: 24px

/// post callout boxes ///

.post_callout_boxes
  p
    width: 70%
    margin-top: 0
    +inline-block
    &:last-child
      margin-bottom: 0

.note
  @extend .post_callout_boxes
  +callout-box($note_color)
.faq
  @extend .post_callout_boxes
  +callout-box($note_color)
  p
    margin: $padding/2 0 0
.tip
  @extend .post_callout_boxes
  +callout-box($background_blue)

.expert_tip
  @extend .post_callout_boxes
  position: relative
  overflow: hidden
  +callout-box($background_blue)
  h3
    padding-top: 0
  img
    position: absolute
    top: -5px
    right: -45px
    +border-radius(75px)
    +opacity(.8)
  p
    padding: 0
    margin: 0
    margin-top: 5px
    display: block

=expert-tip-images($y)
  background:
    repeat: no-repeat
    position: 110% #{$y}

.video_seo
  +expert-tip-images(60%)
  background:
    image: url(http://embed.wistia.com/deliveries/661c19b720a884cbafd7b199d63d1d14874cf6e2.png)

.expression_engine
  +expert-tip-images(40%)
  background:
    image: url(http://embed.wistia.com/deliveries/035aae7c13d02975a0e714b86125e65a01d7a792.png)

////////// post intro paragraph styles ////////

.post_intro
  margin: $padding 0
  font-size: 16px
  background: #eee
  color: #333
  padding: $padding/2 0

  p, ul
    margin: 0
    margin-right: 30px
    padding: $padding/2 $padding 0 $padding
    line-height: 150%
    font-size: 16px
  p
    &:last-child
      padding-bottom: $padding/2
  ul
    padding: 0
    padding-left: $padding/2
    margin-top: $padding/2
  ul li
    list-style-position: inside

  .center
    margin-left: 0
    

/////// images /////////

.post_image
  margin: $padding/2 auto
  clear: both
  position: relative
  overflow: hidden
  border: 1px solid #BBB
  img
    vertical-align: top
.center
  text-align: center
  margin-left: -$padding
.intro_image, .integration_logo
  border: none
+floated-images


/////// video /////////

.video_embed
  margin: $padding 0

//////// EVIL TABLES //////

table
  font-size: 14px
  margin: $padding 0
  width: 100%
  text-align: left
  border-collapse: collapse

  th
    font-size: 15px
    font-family: 'Helvetica Neue'
    padding: 10px 20px
    background: $accent_blue
    border-bottom: 2px solid white
    color: white
  td
    padding: 10px 20px
    background: $background_blue
    border-bottom: 1px solid white
    color: $accent_blue
    border-top: 1px solid transparent
    word-wrap: break-word
  tr
    &:hover 
      td
        background: $background_blue - 32
        color: $accent_blue - 64
      a
        color: $accent_blue - 64
        text-decoration: underline
  tr td pre
    margin: 0
    padding: 0

////// EMBED SCREEN ////////

.embed_type_content
  display: inline-block
  /* For IE 7 */
  zoom: 1
  *display: inline
  padding: 20px
  width: $post_width / 2 - 10
.embed_type_image
  margin-left: 20px
  height: 100%
  display: inline-block
  /* For IE 7 */
  zoom: 1
  *display: inline
  vertical-align: top
.embed_screen_image
  border: none

////// RANDEEEZE ////////

.randor_links
  width: 100%
  margin: 0 auto
  p
    width: 195px
    display: inline-block
    /* For IE 7 */
    zoom: 1
    *display: inline
    vertical-align: top
  ul
    display: inline-block
    /* For IE 7 */
    zoom: 1
    *display: inline
    li
      margin-bottom: 10px

/////// Exporting Page ///////

.exporting_guide_box
  +callout-box($header_blue)
  h3
    margin: 0
  p
    margin: 0 0 $padding/2 $padding
    color: lighten($text_color, 30%)
  ul
    border: none
    margin: 0
    margin-left: $padding
    padding: 0
    li
      color: $accent_blue
  .answer
    color: lighten($text_color, 20%)
    font-weight: normal
      

/////// post footer //////////

.post_footer
  margin-top: 2 * $padding
  clear: both
  ul
    position: relative
    width: 600px
    height: 90px   
    list-style-type: none
    li
      position: absolute
      width: 250px
      &:first-child
        left: 45px
      &:last-child
        right: 45px
.footer_content
  padding: $padding
  p
    font-size: 15px
    margin-bottom: $padding/6
.for_developers
  +footer-styling($for_developers)
.for_beginners
  +footer-styling($accent_blue)
.for_intermediates
  +footer-styling($for_intermediates)


/////// post nav box ////////
.api
  #post_content_nav
    position: absolute

#post_content_nav
  background-color: white
  padding-top: $padding/3
  position: fixed
  width: $fixed_column_width
  vertical-align: top
  +inline-block
  ul
    list-style-type: none
  li
    a
      display: block
      padding: $padding/2
      color: $text_color
      font-size: 15px
      text-decoration: none
      &:hover
        color: $text_color - 60
    &:last-of-type
      border-bottom: none
      margin-bottom: 0
      padding-bottom: 0

  .title_list_item
    padding: 0
    border-bottom: 1px solid $title_color
    a
      padding: 0 0 20px $padding/2
      position: relative
      font-family: Times, serif
      font-style: italic
      font-size: 26px
      color: $header_color
    &.current
      li
        background: none
      a, a:hover
        padding: 0 0 20px $padding/2
        background: none
        color: $title_color

  .current > a
    background-color: $background_blue
    padding: 15px
    &:hover
      color: $title_color

  .header_link
    margin-left: $padding/2
    padding: $padding/6 0 0
    a
      font-weight: bold
      padding: $padding/6 0

  .sub_link
    margin-left: $padding
    a
      font-size: 14px
      padding: 2px 0
      line-height: 130%

///// utility classes ///////

.clear
  clear: both

.unhide
  visibility: visible

#top-link
  @extend %header_fonts
  color: white
  display: none
  position: fixed
  right: $padding
  bottom: $padding
  text-decoration: none
  background: rgba($title_color, .6)
  padding: 10px
  font-weight: bold

/////// utility pages ( categories, search, blah )//////

.category_layout, .search_layout
  #container
    position: relative
    background: white
    width: $post_width
    padding: 0 $padding

.main_layout
  #container
    position: relative
    background: white
    width: 700px

/////// categories ////////

.category
  width: $post_width
  padding: $padding 0
  background-color: white
  h2
    margin-bottom: $padding/2
    font-size: 20px
    a
      +link-hover


////////// SEARCH ////////////

.search_bar
  margin: $padding auto
  text-align: center
  position: relative
  width: $post_width
  input
    width: 84%
    font-size: 14px
    border: 1px solid #bbb
    padding: 5px 10px
  button
    font-size: 14px
    position: relative
    vertical-align: top
    background: #eee
    border: 1px solid #bbb
    font-style: italic
    padding: 5px 10px


#doc_nav_container
  .search_bar
    margin: 0
    text-align: left
    width: 100%
    input
      width: 180px
      position: relative
      top: 2px
      height: 15px

#results
  @extend #post
  min-height: 350px
.results_header
  border-bottom: 1px solid
  margin: $padding 0
.result
  margin: $padding 0 $padding
  h2
    margin: 0
  a
    font-size: 24px
    +link-hover
  p
    margin-top: $padding/2
    width: 550px
.no_result
  p
    line-height: 200%
  .query
    color: #333
.description
  color: #AAA

//////////// background shee /////////////

#beegee
  position: absolute
  top: 0
  left: 0
  z-index: 0
  path
    fill: $header_blue
    //stroke: #fff
    //stroke-width: 1
  .q0,.q1,.q2,.q3,.q4,.q5,.q6,.q7,.q8,.q9
    fill: #fff

.activated
  #beegee
    path
      fill: $accent_blue
      stroke: #bbb
      stroke-width: 1
    .q0,.q1,.q2,.q3,.q4,.q5,.q6,.q7,.q8,.q9
      fill: #fff

/////////// new clearfix ////////

/* http://nicolasgallagher.com/micro-clearfix-hack/
/**
 * For modern browsers
 * 1. The space content is one way to avoid an Opera bug when the
 *    contenteditable attribute is included anywhere else in the document.
 *    Otherwise it causes space to appear at the top and bottom of elements
 *    that are clearfixed.
 * 2. The use of `table` rather than `block` is only necessary if using
 *    `:before` to contain the top-margins of child elements.
 */
.cf:before, .cf:after
  content: " " /* 1 */
  display: table /* 2 */

.cf:after
  clear: both

/**
 * For IE 6/7 only
 * Include this rule to trigger hasLayout and contain floats.
 */
.cf 
  *zoom: 1

=col
  display: inline-block
  *display: inline
  vertical-align: top
  zoom: 1

//////////// devHQ //////////////////


@font-face
  font-family: 'OCRBStd'
  src: url('OCRBStd.otf'), format('opentype')

$dev_bg_blue: #1353a2
$devhq_accent_blue: #69D0E6
$dotted_border: 1px dotted $dev_bg_blue
$dim_bracket: #2c5ca7 
$bracket_red: #F8654E
$bracket_yellow: #F9D164

%link_with_sprite
  color: $dev_bg_blue
  cursor: pointer
  display: block
  font:
    family: Gill Sans, Arial, sans-serif
    size: 32px
    weight: 100
  letter-spacing: 1px
  padding: .4em 0
  padding-left: 20px
  text-transform: uppercase
  &:after
    content: ' '
    background: transparent url(http://embed.wistia.com/deliveries/05cd0b1fdee8d76d7005440159c50b9e60737a34.png) no-repeat
    background-position: 0 0
    width: 21px
    height: 21px
    position: absolute
    margin: .15em .5em
  &:hover:after
    content: ' '
    background-position: 0 -21px

#container.devhq
  position: relative
  width: 100%
  overflow: hidden

.content_container
  @extend %container

.devhq_header
  margin-bottom: 120px
  margin-left: -25px
  background: $dev_bg_blue
  overflow: hidden
  .tiled_wall
    position: relative
    height: 320px
    width: 104%
  .subheader
    position: relative
    height: 60px
    width: 100%
    #devhq_subtitle
      font:
        family: "Andale Mono"
        size: 22px
      min-width: 260px
      position: absolute

.one_tile
  cursor: pointer
  position: absolute
  letter-spacing: 4px
  font:
    family: "OCRBStd"
    size: 52px
  +transition-duration(.25s)
  +user-select(none)
// not a tasty Asian buffet, but a forwardslash that is dimmed
.dimSlash
  color: $dim_bracket
.bracket_default
  color: $dim_bracket
  &:hover
    color: white
.bracket_blue
  color: $devhq_accent_blue
.bracket_yellow
  color: $bracket_yellow
.bracket_red
  color: $bracket_red

.devhq_accent_blue
  color: $devhq_accent_blue

.api_button_garden
  margin-left: 10px
  margin-bottom: 120px
  .column
    border-right: $dotted_border
    padding: 0 20px
    text-align: left
    width: 30%
    +col
    &.last-child
      border: none
      padding-right: 0
    &:first-child
      padding-left: 0
    .api_garden_square
      height: 230px
      margin-bottom: 25px
      &.last-child
        border-bottom: none
        margin-bottom: -80px
      &:first-child
        margin-top: -80px
      a 
        @extend %link_with_sprite
      p
        color: $dev_bg_blue
        font-size: 15px
        line-height: 140%
        padding: 0 20px
        width: 240px

.sick_wrapper
  cursor: pointer
  color: white
  position: absolute
  letter-spacing: 4px
  font:
    family: 'OCRBStd'
    size: 52px
  min-width: 360px
  +user-select(none)
  .lefty, .righty, .middly
    +col
  .middly
    font:
      family: "Andale Mono"
      size: 27px
    letter-spacing: 0px
    margin-left: -2px
    margin-right: 2px
    padding-bottom: 4px
    vertical-align: bottom

.devhq_footer
  background: $dev_bg_blue
  display: block
  height: 150px
  a
    @extend %link_with_sprite
    color: white
    font-size: 28px
    position: relative
    top: 45px
    &:after
      background-position: 0 -21px
    &:hover:after
      background-position: 0 0
